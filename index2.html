<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop losing customers to hidden bugs | stuck.wtf</title>
    <!-- Variable EB Garamond font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Oswald font -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet">
    <!-- Tailwind via CDN for quick prototyping. Replace with self‑hosted build for prod -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --accent:#c90f0f;
        }
        /* subtle hero gradient */
        .bg-radial{
            background: radial-gradient(at 50% -20%, rgba(201,15,15,0.12) 0%,transparent 60%);
        }
        /* Apply Oswald to all headings */
        h1,h2, h3, h4, h5, h6 {
            font-family: 'Kaushan Script', cursive;
        }
        /* Scroll‑reveal */
        [data-reveal]{
            opacity:0;
            transform:translateY(40px);
            transition:all .6s cubic-bezier(.215,.61,.355,1);
        }
        [data-reveal].in-view{
            opacity:1;
            transform:none;
        }
    </style>
</head>
<body class="min-h-screen font-['Noto_Sans'] text-black bg-white bg-radial antialiased scroll-smooth">
<!-- Sticky nav -->
<header class="sticky top-0 z-40 bg-white/70 backdrop-blur border-b border-slate-100">
    <div class="container mx-auto px-4 max-w-7xl flex items-center justify-between py-3">
        <a href="#" class="font-semibold tracking-tight text-lg"><img src="./stuck-logo-1.png" alt="" style="max-width: 100px"></a>
        <nav class="hidden md:flex gap-6 text-sm">
            <a href="#features" class="hover:text-[var(--accent)]">Why us</a>
            <a href="#how" class="hover:text-[var(--accent)]">How it works</a>
            <a href="#pricing" class="hover:text-[var(--accent)]">Pricing</a>
        </nav>
        <div class="flex items-center gap-3">
            <a href="#pricing" class="text-sm hover:text-[var(--accent)]">Login</a>
        </div>
    </div>
</header>

<!-- Hero Section -->
<section class="py-16 md:py-24">
    <div class="container mx-auto px-4 max-w-6xl text-center" data-reveal>
        <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
            Stop losing customers to <span class="text-[var(--accent)]">hidden bugs</span>
        </h1>
        <p class="text-lg md:text-xl text-slate-600 mb-8 max-w-3xl mx-auto">
            Real-time visual reports from shoppers help you fix issues <b>before</b> they kill your revenue.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a href="#pricing" class="bg-[var(--accent)] text-white px-8 py-3 rounded-lg hover:bg-[var(--accent)]/90 transition-colors font-medium">
                Start Free Trial
            </a>
        </div>
    </div>
</section>

<!-- Pain Point Section -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4 max-w-4xl text-center" data-reveal>
        <h2 class="text-3xl md:text-4xl font-bold mb-6 text-black">
            When a single glitch costs €1000+ in revenue a day…
        </h2>
        <p class="text-lg text-slate-600 mb-6 max-w-2xl mx-auto">
            You updated a plugin. Your checkout suddenly drops conversions. No alerts, no clear logs – only abandoned carts and lost sales.
        </p>
        <p class="text-lg text-slate-600 max-w-2xl mx-auto">
            <strong>Stuck<span class="text-[var(--accent)]">.</span></strong> puts a tiny "Report a problem" button on every page so shoppers can point at the bug the moment it happens.
        </p>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="py-16 bg-slate-50">
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="text-center mb-16" data-reveal>
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Why Choose Stuck<span class="text-[var(--accent)]">.</span>?</h2>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                Our advanced monitoring catches bugs in real-time, ensuring your users have the best possible experience.
            </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
            <div class="text-center p-6" data-reveal>
                <div class="w-12 h-12 bg-[var(--accent)] rounded-lg mx-auto mb-4 flex items-center justify-center">
                    <span class="text-white text-2xl">🚀</span>
                </div>
                <h3 class="text-xl font-bold mb-2">Recover revenue faster</h3>
                <p class="text-slate-600">See what's broken, where and for whom — in seconds, not days.</p>
            </div>

            <div class="text-center p-6" data-reveal>
                <div class="w-12 h-12 bg-[var(--accent)] rounded-lg mx-auto mb-4 flex items-center justify-center">
                    <span class="text-white text-2xl">💬</span>
                </div>
                <h3 class="text-xl font-bold mb-2">Talk to the buyer</h3>
                <p class="text-slate-600">Automatic chat thanks the customer and keeps them updated while you fix the issue.</p>
            </div>

            <div class="text-center p-6" data-reveal>
                <div class="w-12 h-12 bg-[var(--accent)] rounded-lg mx-auto mb-4 flex items-center justify-center">
                    <span class="text-white text-2xl">🔌</span>
                </div>
                <h3 class="text-xl font-bold mb-2">Fits your stack</h3>
                <p class="text-slate-600">Two-way sync with Jira, Notion, Trello or GitHub. Unlimited users, projects and pageviews.</p>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section id="how" class="py-16">
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">How it works — 2 min setup</h2>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                From setup to solving customer issues in 4 simple steps.
            </p>
        </div>

        <div class="space-y-16">
            <!-- Step 1: Text left, Image right -->
            <div class="grid md:grid-cols-2 gap-8 items-center" data-reveal>
                <div>
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 bg-[var(--accent)] text-white rounded-full mr-4 flex items-center justify-center text-2xl font-bold">1</div>
                        <h3 class="text-2xl font-bold">Copy & Install the Widget</h3>
                    </div>
                    <p class="text-lg text-slate-600">Copy your personal snippet after sign-up and paste it into the &lt;head&gt; of any online store. Up and running in under 60 seconds.</p>
                </div>
                <div class="bg-slate-100 rounded-lg p-4 flex items-center justify-center" id="block1">
                </div>
            </div>

            <!-- Step 2: Image left, Text right -->
            <div class="grid md:grid-cols-2 gap-8 items-center" data-reveal>
                <div class="bg-slate-100 rounded-lg p-4 flex items-center justify-center md:order-1" id="block2">
                </div>
                <div class="md:order-2">
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 bg-[var(--accent)] text-white rounded-full mr-4 flex items-center justify-center text-2xl font-bold">2</div>
                        <h3 class="text-2xl font-bold">Shoppers Report Issues — right when it matters</h3>
                    </div>
                    <p class="text-lg text-slate-600">In your dashboard you decide when the "Report a problem" button appears: checkout errors, 404 pages, custom events, a shopper lingering too long on one page, or making an unusual number of clicks. When the trigger fires, the shopper taps the button, highlights the issue, and sends.</p>
                </div>
            </div>

            <!-- Step 3: Text left, Image right -->
            <div class="grid md:grid-cols-2 gap-8 items-center" data-reveal>
                <div>
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 bg-[var(--accent)] text-white rounded-full mr-4 flex items-center justify-center text-2xl font-bold">3</div>
                        <h3 class="text-2xl font-bold">Get Actionable Reports & Keep the Conversation</h3>
                    </div>
                    <p class="text-lg text-slate-600">Instant in-app notifications arrive with screenshots, console logs, and session data. Chat back with the shopper while the full bug report is simultaneously pushed to Jira, GitHub, or your dev/agency queue.</p>
                </div>
                <div class="bg-slate-100 rounded-lg p-4 flex items-center justify-center" id="block3">
                </div>
            </div>

            <!-- Step 4: Image left, Text right -->
            <div class="grid md:grid-cols-2 gap-8 items-center" data-reveal>
                <div class="bg-slate-100 rounded-lg p-4 flex items-center justify-center md:order-1">
                    <img src="./4.png" alt="Fix & Close" class="max-w-full h-auto">
                </div>
                <div class="md:order-2">
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 bg-[var(--accent)] text-white rounded-full mr-4 flex items-center justify-center text-2xl font-bold">4</div>
                        <h3 class="text-2xl font-bold">Fix & Close</h3>
                    </div>
                    <p class="text-lg text-slate-600">Patch the bug, close the ticket — the shopper automatically receives an "All fixed!" message.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="py-16 bg-slate-50">
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="text-center mb-16" data-reveal>
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Priced to pay for itself <em>day one</em></h2>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                Choose the plan that works best for your business. All plans include our core monitoring features.
            </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
            <div class="bg-white p-8 rounded-2xl border border-slate-200" data-reveal>
                <h3 class="text-xl font-bold mb-2">Starter</h3>
                <div class="mb-6">
                    <span class="text-3xl font-bold">€19</span>
                    <span class="text-slate-600">/mo + €20 per confirmed report</span>
                </div>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        No limits on users, projects or traffic
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Real-time monitoring
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Cancel anytime
                    </li>
                </ul>
                <a href="#" class="block w-full text-center bg-slate-100 text-black py-3 rounded-lg hover:bg-slate-200 transition-colors">Start free trial</a>
            </div>

            <div class="bg-white p-8 rounded-2xl border-2 border-[var(--accent)] relative" data-reveal>
                <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-[var(--accent)] text-white px-3 py-1 rounded-full text-sm">Popular</div>
                <h3 class="text-xl font-bold mb-2">Pro</h3>
                <div class="mb-6">
                    <span class="text-3xl font-bold">€99</span>
                    <span class="text-slate-600">/month</span>
                </div>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Up to 5 projects
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Unlimited confirmed reports
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Priority support
                    </li>
                </ul>
                <a href="#" class="block w-full text-center bg-[var(--accent)] text-white py-3 rounded-lg hover:bg-[var(--accent)]/90 transition-colors">Start free trial</a>
            </div>

            <div class="bg-white p-8 rounded-2xl border border-slate-200" data-reveal>
                <h3 class="text-xl font-bold mb-2">Enterprise</h3>
                <div class="mb-6">
                    <span class="text-3xl font-bold">Custom pricing</span>
                </div>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Unlimited projects and reports
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Custom integrations
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        SLAs
                    </li>
                </ul>
                <a href="#" class="block w-full text-center bg-slate-100 text-black py-3 rounded-lg hover:bg-slate-200 transition-colors">Contact us</a>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="py-12 bg-black text-white">
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="text-center mb-8">
            <img src="./stuck-logo-1.png" alt="stuck.wtf" class="mx-auto mb-4" style="max-width: 100px; filter: brightness(0) invert(1);">
            <p class="text-slate-400 text-sm max-w-2xl mx-auto">Stop losing customers to hidden bugs with our real-time monitoring solution.</p>
        </div>

        <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center">
            <p class="text-slate-400 text-sm">© 2025 stuck.wtf. All rights reserved.</p>
            <div class="flex items-center gap-6 mt-4 md:mt-0">
                <a href="#features" class="text-slate-400 hover:text-white text-sm">Features</a>
                <a href="#how" class="text-slate-400 hover:text-white text-sm">How it works</a>
                <a href="#pricing" class="text-slate-400 hover:text-white text-sm">Pricing</a>
            </div>
        </div>
    </div>
</footer>

<!-- Подключение виджета Report a Problem -->
<script src="./report-widget.js"></script>
<script>
    // Инициализация виджета с настройками
    document.addEventListener('DOMContentLoaded', function() {
        new ReportWidget({
            accentColor: '#c90f0f',
            buttonText: 'Report a problem',
            position: 'right',
            // apiEndpoint: 'https://your-api.com/reports' // Раскомментируйте и укажите ваш API endpoint
        });
    });
</script>

<!-- Scroll reveal animation -->
<script>
    // Scroll reveal animation
    const revealElements = document.querySelectorAll('[data-reveal]');

    const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.add('in-view');
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });

    revealElements.forEach((el) => {
        revealObserver.observe(el);
    });
</script>
<script>
    (function (global) {
        "use strict";

        /* --------------------------------------------------
         * 1.  Style injection (once‑per‑page)
         * -------------------------------------------------- */
        const STYLE_ID = "copy-save-widget-style";
        function injectStyles () {
            if (document.getElementById(STYLE_ID)) return; // already there

            const css = `/* ====== Base reset (scoped) ====== */
.copy-save-widget *{box-sizing:border-box;margin:0;padding:0;font-family:Consolas,monospace;}

/* ====== Widget frame ====== */
.copy-save-widget{
  width:500px; /* default, can be overridden inline */
  height:200px; /* default */
  border:1px solid #ccc;
  position:relative;
  overflow:hidden;
  background:#fff;
}

/* ====== Scene containers ====== */
.copy-save-widget .scene{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:opacity .4s ease;
}
.copy-save-widget .scene-editor,
.copy-save-widget .copied-msg,
.copy-save-widget .saved-msg{opacity:0;}

/* ====== Copy‑input ====== */
.copy-save-widget .input-wrapper{display:flex;align-items:center;gap:8px;}
.copy-save-widget .code-input{
  width:300px;
  padding:4px 6px;
  border:1px solid #999;
  background:#f6f6f6;
  font-size:12px;
}
.copy-save-widget .copy-btn,
.copy-save-widget .save-btn{
  padding:4px 12px;
  border:none;
  border-radius:4px;
  background:#0069ed;
  color:#fff;
  cursor:pointer;
  transition:transform .1s ease;
}
.copy-save-widget .copy-btn.clicked,
.copy-save-widget .save-btn.clicked{transform:scale(0.9);}
.copy-save-widget .copied-msg,
.copy-save-widget .saved-msg{
  margin-left:8px;
  color:#28a745;
  font-weight:bold;
  transition:opacity .3s ease;
  user-select:none;
}

/* ====== Editor mockup ====== */
.copy-save-widget .editor-window{
  width:90%;
  height:80%;
  background:#1e1e1e;
  color:#dcdcdc;
  border-radius:6px;
  padding:10px;
  position:relative;
  display:flex;
  flex-direction:column;
}
.copy-save-widget .titlebar{
  background:#333;
  padding:4px 8px;
  margin:-10px -10px 8px;
  font-size:12px;
  color:#fff;
  border-top-left-radius:6px;
  border-top-right-radius:6px;
}
.copy-save-widget .code{
  flex:1;
  font-size:12px;
  line-height:1.2;
  white-space:pre;
  overflow:hidden;
}
.copy-save-widget .type-script{border-right:1px solid #dcdcdc;}
.copy-save-widget .save-btn{position:absolute;bottom:8px;right:8px;}
.copy-save-widget .saved-msg{position:absolute;bottom:12px;right:85px;}`;

            const styleEl = document.createElement("style");
            styleEl.id = STYLE_ID;
            styleEl.textContent = css;
            document.head.appendChild(styleEl);
        }

        /* --------------------------------------------------
         * 2.  Widget factory
         * -------------------------------------------------- */
        function copySaveWidget (selector, opts = {}) {
            const container = typeof selector === "string" ? document.querySelector(selector) : selector;
            if (!container) {
                console.error("copySaveWidget: container not found:", selector);
                return;
            }

            injectStyles();

            // Ensure clean slate
            container.innerHTML = "";

            // Apply base class and sizing overrides
            container.classList.add("copy-save-widget");
            if (opts.width)  container.style.width  = opts.width  + "px";
            if (opts.height) container.style.height = opts.height + "px";

            // --------------------------------------------------
            // Build DOM structure inside the container
            // --------------------------------------------------
            container.insertAdjacentHTML(
                "afterbegin",
                `<!-- ===== Scene 1: Copy input ===== -->
       <div class="scene scene-copy">
         <div class="input-wrapper">
           <input class="code-input" type="text" readonly value="&lt;script src=&quot;widget.js&quot;&gt;&lt;/script&gt;">
           <button class="copy-btn">Copy</button>
           <div class="copied-msg">✓ Copied</div>
         </div>
       </div>

       <!-- ===== Scene 2: Editor mockup ===== -->
       <div class="scene scene-editor">
         <div class="editor-window">
           <div class="titlebar">theme.html</div>
           <pre class="code">&lt;head&gt;
  <span class="type-script"></span>
&lt;/head&gt;
&lt;body&gt;
  ...
&lt;/body&gt;</pre>
           <button class="save-btn">Save</button>
           <div class="saved-msg">✓ Saved</div>
         </div>
       </div>`
            );

            // Elements scoped to this widget instance
            const sceneCopy   = container.querySelector(".scene-copy");
            const sceneEditor = container.querySelector(".scene-editor");
            const copyBtn     = container.querySelector(".copy-btn");
            const copiedMsg   = container.querySelector(".copied-msg");
            const saveBtn     = container.querySelector(".save-btn");
            const savedMsg    = container.querySelector(".saved-msg");
            const typeSpan    = container.querySelector(".type-script");

    // Tag string (split closing tag so parser never sees \<\/script>)
const scriptTag = '\<script src="widget.js">\<\/' + 'script>';

/* ----------------------------------------------
 * Animation helpers (scoped per instance)
 * ---------------------------------------------- */
function reset () {
    sceneCopy.style.opacity   = 1;
    sceneEditor.style.opacity = 0;
    copyBtn .classList.remove("clicked");
    saveBtn .classList.remove("clicked");
    copiedMsg.style.opacity = 0;
    savedMsg .style.opacity = 0;
    typeSpan.textContent    = "";
}

function loop () {
    reset();

    // 1️⃣  Copy click visual
    setTimeout(() => {
        copyBtn.classList.add("clicked");
        copiedMsg.style.opacity = 1;
    }, 1000);

    // 2️⃣  Transition to editor
    setTimeout(() => {
        sceneCopy .style.opacity = 0;
        sceneEditor.style.opacity = 1;
    }, 2000);

    // 3️⃣  Fake typing of the script tag
    setTimeout(() => {
        let i = 0;
        const int = setInterval(() => {
            typeSpan.textContent = scriptTag.slice(0, i++);
            if (i > scriptTag.length) clearInterval(int);
        }, 30);
    }, 2300);

    // 4️⃣  Save click visual
    setTimeout(() => {
        saveBtn.classList.add("clicked");
        savedMsg.style.opacity = 1;
    }, 4000);

    // 5️⃣  Fade editor out
    setTimeout(() => {
        sceneEditor.style.opacity = 0;
    }, 5200);

    // 6️⃣  Restart loop
    setTimeout(loop, 6000);
}

// Kick it off
loop();
}

/* --------------------------------------------------
 * 3.  Expose to global
 * -------------------------------------------------- */
global.copySaveWidget = copySaveWidget;

})(window);

    copySaveWidget('#block1',   { width: 500, height: 200 });
    /* =====================================================================
     * Stuck.wtf Widget Library v2.1  (enhanced timing & UX)
     * ---------------------------------------------------------------------
     *  ✓ copySaveWidget()      — animates "Copy & Save"
     *  ✓ reportIssueWidget()   — shopper clicks "Report a problem" in‑store
     *  ✓ triggerReportWidget() — dashboard trigger setup + shopper flow
     * ---------------------------------------------------------------------
     *  One JS include → self‑injecting scoped CSS; call widgetFn(selector,…)
     * ===================================================================== */

    (function (global) {
        "use strict";

        /* ========== UTILITIES ===================================================== */
        function injectStyles(id, css) {
            if (!document.getElementById(id)) {
                const s = document.createElement('style');
                s.id = id;
                s.textContent = css;
                document.head.appendChild(s);
            }
        }

        /* ==========================================================================
         * 1) COPY‑SAVE WIDGET  (unchanged)
         * ======================================================================= */
        (function(){
            const STYLE_ID = 'copy-save-style';
            if (global.copySaveWidget) return; // already defined (keep previous impl)

            const CSS = `/* ===== Copy Save ===== */
.copy-save-widget *{box-sizing:border-box;margin:0;padding:0;font-family:Consolas,monospace;}
.copy-save-widget{width:500px;height:200px;border:1px solid #d9d9d9;position:relative;overflow:hidden;background:#fff;border-radius:8px;}
.copy-save-widget .scene{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;transition:opacity .5s ease;}
.copy-save-widget .scene-editor,.copy-save-widget .copied-msg,.copy-save-widget .saved-msg{opacity:0;}
.copy-save-widget .input-wrapper{display:flex;align-items:center;gap:8px;}
.copy-save-widget .code-input{width:300px;padding:6px 8px;border:1px solid #ccc;background:#fafafa;font-size:12px;border-radius:4px;}
.copy-save-widget .copy-btn,.copy-save-widget .save-btn{padding:6px 14px;border:none;border-radius:4px;background:#0069ed;color:#fff;cursor:pointer;transition:transform .1s ease;}
.copy-save-widget .copy-btn.clicked,.copy-save-widget .save-btn.clicked{transform:scale(0.9);}
.copy-save-widget .copied-msg,.copy-save-widget .saved-msg{margin-left:8px;color:#28a745;font-weight:600;transition:opacity .3s ease;user-select:none;}
.copy-save-widget .editor-window{width:90%;height:80%;background:#1e1e1e;color:#dcdcdc;border-radius:6px;padding:12px;position:relative;display:flex;flex-direction:column;}
.copy-save-widget .titlebar{background:#333;padding:4px 10px;margin:-12px -12px 10px;font-size:12px;color:#fff;border-top-left-radius:6px;border-top-right-radius:6px;}
.copy-save-widget .code{flex:1;font-size:12px;line-height:1.2;white-space:pre;overflow:hidden;}
.copy-save-widget .type-script{border-right:1px solid #dcdcdc;}
.copy-save-widget .save-btn{position:absolute;bottom:10px;right:10px;}
.copy-save-widget .saved-msg{position:absolute;bottom:14px;right:110px;}`;

            function copySaveWidget(selector, opts={}) {
                const el = typeof selector==='string'?document.querySelector(selector):selector;
                if(!el) return console.error('copySaveWidget: container not found',selector);
                injectStyles(STYLE_ID, CSS);
                el.innerHTML='';
                el.classList.add('copy-save-widget');
                if(opts.width) el.style.width=opts.width+'px';
                if(opts.height) el.style.height=opts.height+'px';

                el.insertAdjacentHTML('afterbegin',`
        <div class="scene scene-copy">
          <div class="input-wrapper">
            <input class="code-input" readonly value="&lt;script src=&quot;widget.js&quot;&gt;&lt;/script&gt;" />
            <button class="copy-btn">Copy</button>
            <div class="copied-msg">✓ Copied</div>
          </div>
        </div>
        <div class="scene scene-editor">
          <div class="editor-window">
            <div class="titlebar">theme.html</div>
            <pre class="code">&lt;head&gt;\n  <span class="type-script"></span>\n&lt;/head&gt;\n&lt;body&gt;\n  ...\n&lt;/body&gt;</pre>
            <button class="save-btn">Save</button>
            <div class="saved-msg">✓ Saved</div>
          </div>
        </div>`);

                const sceneCopy   = el.querySelector('.scene-copy');
                const sceneEditor = el.querySelector('.scene-editor');
                const copyBtn     = el.querySelector('.copy-btn');
                const copiedMsg   = el.querySelector('.copied-msg');
                const saveBtn     = el.querySelector('.save-btn');
                const savedMsg    = el.querySelector('.saved-msg');
                const typeSpan    = el.querySelector('.type-script');
                const tag         = '<script src="widget.js"></'+'script>';

                const T = opts.speedMultiplier ? 1/opts.speedMultiplier : 1; // slow‑down multiplier

                function reset(){
                    sceneCopy.style.opacity=1;sceneEditor.style.opacity=0;
                    copyBtn.classList.remove('clicked');saveBtn.classList.remove('clicked');
                    copiedMsg.style.opacity=0;savedMsg.style.opacity=0;typeSpan.textContent='';
                }
                function loop(){
                    reset();
                    setTimeout(()=>{copyBtn.classList.add('clicked');copiedMsg.style.opacity=1;},1000*T);
                    setTimeout(()=>{sceneCopy.style.opacity=0;sceneEditor.style.opacity=1;},2200*T);
                    setTimeout(()=>{let i=0;const t=setInterval(()=>{typeSpan.textContent=tag.slice(0,i++);if(i>tag.length)clearInterval(t);},50*T);},2500*T);
                    setTimeout(()=>{saveBtn.classList.add('clicked');savedMsg.style.opacity=1;},5200*T);
                    setTimeout(()=>{sceneEditor.style.opacity=0;},6700*T);
                    setTimeout(loop,8200*T);
                }
                loop();
            }
            global.copySaveWidget = copySaveWidget;
        })();

        /* ==========================================================================
         * 2) REPORT‑ISSUE WIDGET  (unchanged visual, slightly slower)
         * ======================================================================= */
        (function(){
            const STYLE_ID='report-issue-style';
            if (global.reportIssueWidget) return; // already defined

            const CSS=`/* ===== Report Issue ===== */
.report-issue-widget *{box-sizing:border-box;margin:0;padding:0;font-family:Consolas,monospace;}
.report-issue-widget{width:500px;height:200px;border:1px solid #d9d9d9;position:relative;overflow:hidden;background:#fff;border-radius:8px;}
.report-issue-widget .scene{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;transition:opacity .5s ease;}
.report-issue-widget .scene-overlay,.report-issue-widget .report-btn,.report-issue-widget .send-btn,.report-issue-widget .sent-msg{opacity:0;}
.report-issue-widget .page{width:90%;height:80%;border:1px solid #e6e6e6;background:#f7f7f7;padding:12px;position:relative;display:flex;flex-direction:column;gap:6px;}
.report-issue-widget .line{height:10px;background:#e0e0e0;border-radius:4px;}
.report-issue-widget .line.short{width:45%;}
.report-issue-widget .line.med{width:65%;}
.report-issue-widget .line.long{width:85%;}
.report-issue-widget .report-btn{position:absolute;bottom:10px;right:10px;padding:6px 12px;border:none;border-radius:4px;background:#d9534f;color:#fff;cursor:pointer;transition:transform .1s ease;}
.report-issue-widget .report-btn.clicked{transform:scale(0.9);}
.report-issue-widget .overlay{position:absolute;inset:0;background:rgba(0,0,0,.45);display:flex;flex-direction:column;justify-content:center;align-items:center;}
.report-issue-widget .highlight{width:60%;height:40%;border:2px dashed #ffbf00;background:rgba(255,191,0,.15);}
.report-issue-widget .send-btn{margin-top:14px;padding:6px 16px;border:none;border-radius:4px;background:#0069ed;color:#fff;cursor:pointer;transition:transform .1s ease;}
.report-issue-widget .send-btn.clicked{transform:scale(0.9);}
.report-issue-widget .sent-msg{margin-top:12px;color:#28a745;font-weight:600;background:#fff;padding:2px 6px;border-radius:4px;transition:opacity .3s ease;user-select:none;}`;

            function reportIssueWidget(selector,opts={}){
                const el=typeof selector==='string'?document.querySelector(selector):selector;
                if(!el) return console.error('reportIssueWidget: container not found',selector);
                injectStyles(STYLE_ID,CSS);
                el.innerHTML='';
                el.classList.add('report-issue-widget');
                if(opts.width) el.style.width=opts.width+'px';
                if(opts.height) el.style.height=opts.height+'px';

                el.insertAdjacentHTML('afterbegin',`
        <div class="scene scene-page">
          <div class="page">
            <div class="line long"></div>
            <div class="line med"></div>
            <div class="line long"></div>
            <div class="line short"></div>
            <button class="report-btn">Report a problem</button>
          </div>
        </div>
        <div class="scene scene-overlay">
          <div class="overlay">
            <div class="highlight"></div>
            <button class="send-btn">Send</button>
            <div class="sent-msg">✓ Sent</div>
          </div>
        </div>`);

                const scenePage=el.querySelector('.scene-page');
                const sceneOverlay=el.querySelector('.scene-overlay');
                const reportBtn=el.querySelector('.report-btn');
                const sendBtn=el.querySelector('.send-btn');
                const sentMsg=el.querySelector('.sent-msg');
                const highlight=el.querySelector('.highlight');

                function reset(){
                    scenePage.style.opacity=1;sceneOverlay.style.opacity=0;
                    reportBtn.style.opacity=0;sendBtn.style.opacity=0;sentMsg.style.opacity=0;highlight.style.opacity=0;
                    reportBtn.classList.remove('clicked');sendBtn.classList.remove('clicked');
                }
                function loop(){
                    reset();
                    setTimeout(()=>{reportBtn.style.opacity=1;},1000);
                    setTimeout(()=>{reportBtn.classList.add('clicked');sceneOverlay.style.opacity=1;highlight.style.opacity=1;},2000);
                    setTimeout(()=>{sendBtn.style.opacity=1;},2700);
                    setTimeout(()=>{sendBtn.classList.add('clicked');sentMsg.style.opacity=1;highlight.style.opacity=0.3;},3500);
                    setTimeout(()=>{sceneOverlay.style.opacity=0;},4700);
                    setTimeout(()=>{scenePage.style.opacity=0;},5300);
                    setTimeout(loop,6700);
                }
                loop();
            }
            global.reportIssueWidget = reportIssueWidget;
        })();

        /* ==========================================================================
         * 3) TRIGGER‑REPORT WIDGET  (improved as per feedback)
         * ======================================================================= */
        (function(){
            const STYLE_ID='trigger-report-style';

            const CSS=`/* ===== Trigger + Report Scene ===== */
.trigger-report-widget *{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',Consolas,monospace;}
.trigger-report-widget{width:500px;height:200px;border:1px solid #d9d9d9;position:relative;overflow:hidden;background:#fff;border-radius:8px;}
.trigger-report-widget .scene{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;transition:opacity .5s ease;}
/* ----- Dashboard card ----- */
.trigger-report-widget .checkbox-card{width:94%;height:84%;border:1px solid #e0e0e0;background:#fafafa;border-radius:6px;padding:12px;display:flex;flex-direction:column;gap:8px;position:relative;}
.trigger-report-widget .scroll-area{flex:1;overflow-y:auto;padding-right:4px;}
.trigger-report-widget .trigger-item{display:flex;align-items:center;gap:6px;font-size:12px;color:#333;padding:4px 0;}
.trigger-report-widget .trigger-item input{accent-color:#0069ed;cursor:pointer;}
.trigger-report-widget .time-input{display:inline-flex;align-items:center;gap:4px;font-size:12px;margin-left:8px;opacity:0;transition:opacity .3s ease;}
.trigger-report-widget .time-input input{width:50px;padding:2px 4px;border:1px solid #ccc;border-radius:4px;text-align:center;font-size:12px;}
/* ----- Store page mock ----- */
.trigger-report-widget .page-mock{width:92%;height:84%;border:1px solid #e6e6e6;background:#fff;padding:14px 16px;position:relative;display:flex;flex-direction:column;gap:8px;}
.trigger-report-widget .product{display:flex;gap:8px;align-items:center;}
.trigger-report-widget .thumb{width:26px;height:26px;background:#e0e0e0;border-radius:4px;}
.trigger-report-widget .product-info{flex:1;height:8px;background:#e0e0e0;border-radius:4px;}
.trigger-report-widget .total{height:10px;background:#e0e0e0;width:60%;border-radius:4px;}
.trigger-report-widget .field{height:12px;background:#e0e0e0;border-radius:4px;position:relative;}
.trigger-report-widget .field.error{background:#fbd6d6;border:1px solid #d9534f;}
.trigger-report-widget .error-msg{position:absolute;left:0;bottom:-16px;font-size:11px;color:#d9534f;}
/* ----- Report badge ----- */
.trigger-report-widget .badge{position:absolute;top:40%;right:-80px;padding:8px 14px;border:none;border-radius:4px 0 0 4px;background:#d9534f;color:#fff;font-size:11px;cursor:pointer;transition:right .4s ease,transform .1s ease;}
.trigger-report-widget .badge.show{right:0;}
.trigger-report-widget .badge.clicked{transform:scale(0.92);}
/* ----- Overlay & toolbar ----- */
.trigger-report-widget .overlay{position:absolute;inset:0;background:rgba(0,0,0,.45);display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transition:opacity .4s ease;}
.trigger-report-widget .highlight{width:70%;height:44%;border:2px dashed #ffbf00;background:rgba(255,191,0,.15);}
.trigger-report-widget .tool-bar{display:flex;gap:8px;margin-top:10px;opacity:0;transition:opacity .3s ease;}
.trigger-report-widget .tool-icon{width:18px;height:18px;border-radius:3px;background:#fff;display:flex;justify-content:center;align-items:center;font-size:12px;color:#0069ed;}
.trigger-report-widget .send-btn{margin-top:12px;padding:6px 18px;border:none;border-radius:4px;background:#0069ed;color:#fff;font-size:12px;cursor:pointer;transition:transform .1s ease;opacity:0;}
.trigger-report-widget .send-btn.clicked{transform:scale(0.9);}
.trigger-report-widget .sent-msg{margin-top:10px;background:#28a745;color:#fff;font-weight:600;font-size:12px;padding:2px 8px;border-radius:4px;opacity:0;transition:opacity .3s ease;}`;

            function triggerReportWidget(selector, opts={}){
                const el = typeof selector==='string'?document.querySelector(selector):selector;
                if(!el) return console.error('triggerReportWidget: container not found',selector);
                injectStyles(STYLE_ID,CSS);
                el.innerHTML='';
                el.classList.add('trigger-report-widget');
                if(opts.width) el.style.width=opts.width+'px';
                if(opts.height) el.style.height=opts.height+'px';

                /* ----- Build DOM ----- */
                el.insertAdjacentHTML('afterbegin',`
        <div class="scene scene-dashboard">
          <div class="checkbox-card">
            <div class="scroll-area">
              <label class="trigger-item"><input type="checkbox"> Checkout errors</label>
              <label class="trigger-item"><input type="checkbox"> 404 pages</label>
              <label class="trigger-item"><input type="checkbox"> Custom events</label>
              <label class="trigger-item highlight-item"><input type="checkbox"> Too long on one page
                <span class="time-input">Time: <input type="text" value=""></span>
              </label>
              <label class="trigger-item"><input type="checkbox"> Unusual number of clicks</label>
            </div>
          </div>
        </div>
        <div class="scene scene-store">
          <div class="page-mock">
            <div class="product"><div class="thumb"></div><div class="product-info"></div></div>
            <div class="product"><div class="thumb"></div><div class="product-info"></div></div>
            <div class="total"></div>
            <div class="field"></div>
            <div class="field error"></div>
            <div class="error-msg">Internal server error</div>
            <div class="field"></div>
            <button class="badge">Report a problem</button>
            <div class="overlay">
              <div class="highlight"></div>
              <div class="tool-bar">
                <div class="tool-icon">✏️</div><div class="tool-icon">◻️</div><div class="tool-icon">🖍️</div>
              </div>
              <button class="send-btn">Send</button>
              <div class="sent-msg">✓ Sent</div>
            </div>
          </div>
        </div>`);

                /* ----- Elements ----- */
                const dashboard   = el.querySelector('.scene-dashboard');
                const store       = el.querySelector('.scene-store');
                const scrollArea  = el.querySelector('.scroll-area');
                const chk         = el.querySelector('.highlight-item input');
                const timeWrap    = el.querySelector('.time-input');
                const timeInput   = timeWrap.querySelector('input');
                const badge       = el.querySelector('.badge');
                const overlay     = el.querySelector('.overlay');
                const highlight   = el.querySelector('.highlight');
                const toolBar     = el.querySelector('.tool-bar');
                const sendBtn     = el.querySelector('.send-btn');
                const sentMsg     = el.querySelector('.sent-msg');

                const speed = opts.speedMultiplier?1/opts.speedMultiplier:1;

                /* ----- Helper functions ----- */
                function typeText(target, text, cb){
                    let idx=0;target.value='';
                    const iv=setInterval(()=>{target.value+=text[idx++];if(idx>text.length-1){clearInterval(iv);if(cb)cb();}},80*speed);
                }

                function reset(){
                    dashboard.style.opacity=1;store.style.opacity=0;
                    timeWrap.style.opacity=0;badge.classList.remove('show','clicked');badge.style.right='-80px';overlay.style.opacity=0;toolBar.style.opacity=0;sendBtn.style.opacity=0;sentMsg.style.opacity=0;highlight.style.opacity=0;chk.checked=false;timeInput.value='';
                }

                function loop(){
                    reset();
                    // Scroll to highlight checkbox
                    setTimeout(()=>{scrollArea.scrollTop=80;},700*speed);
                    // Check it
                    setTimeout(()=>{chk.checked=true;},1400*speed);
                    // Show time input then type "1 min"
                    setTimeout(()=>{timeWrap.style.opacity=1;typeText(timeInput,'1 min');},1800*speed);
                    // Fade to store scene
                    setTimeout(()=>{dashboard.style.opacity=0;store.style.opacity=1;},3500*speed);
                    // Slide badge in
                    setTimeout(()=>{badge.classList.add('show');},4300*speed);
                    // Click badge + overlay + toolbar
                    setTimeout(()=>{badge.classList.add('clicked');overlay.style.opacity=1;highlight.style.opacity=1;toolBar.style.opacity=1;},5200*speed);
                    // Show send button
                    setTimeout(()=>{sendBtn.style.opacity=1;},5900*speed);
                    // Click send
                    setTimeout(()=>{sendBtn.classList.add('clicked');sentMsg.style.opacity=1;highlight.style.opacity=0.35;},6700*speed);
                    // Fade overlay out
                    setTimeout(()=>{overlay.style.opacity=0;toolBar.style.opacity=0;},8000*speed);
                    // Fade widget out
                    setTimeout(()=>{store.style.opacity=0;},8600*speed);
                    // Restart
                    setTimeout(loop,10000*speed);
                }
                loop();
            }
            global.triggerReportWidget = triggerReportWidget;
        })();

    })(window);

    /* =====================================================================
     * Quick demo (remove in production)
     *
     * <div id="demo"></div>
     * <script src="widgetLib.js"><\/script>
* <script>
    *   triggerReportWidget('#demo');
    * <\/script>
* ===================================================================== */

triggerReportWidget('#block2');
    /* =====================================================================
     * Stuck.wtf Widget Library v2.3  (Action‑Report tweaks based on feedback)
     * ---------------------------------------------------------------------
     *  ✓ copySaveWidget()      — "Copy & Save"
     *  ✓ reportIssueWidget()   — shopper flow «Report a problem»
     *  ✓ triggerReportWidget() — dashboard trigger + shopper flow
     *  ✓ actionReportWidget()  — toast → side‑panel with console, chat, Jira push
     * ---------------------------------------------------------------------
     *  One JS include → each widget injects its own scoped CSS (<style id="…">)
     *  Call widgetFn(selector, { width, height, speedMultiplier })
     * ===================================================================== */

    (function (global) {
        "use strict";

        /* ========== UTILITIES ===================================================== */
        function injectStyles(id, css) {
            if (!document.getElementById(id)) {
                const s = document.createElement('style');
                s.id = id;
                s.textContent = css;
                document.head.appendChild(s);
            }
        }

        /* ==========================================================================
         * PREVIOUS WIDGETS (v2.1) preserved — not repeated here for brevity
         * They are assumed already attached on the page.
         * ======================================================================= */

        /* ==========================================================================
         * ACTION‑REPORT WIDGET  (toast → panel)  – updated v2.3
         * ======================================================================= */
        (function(){
            const STYLE_ID = 'action-report-style';

            const CSS = `/* ===== Action Report ===== */
.action-report-widget *{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',Consolas,monospace;}
.action-report-widget{width:500px;height:200px;border:1px solid #d9d9d9;position:relative;overflow:hidden;background:#fff;border-radius:8px;}
/* ----- Toast ----- */
.action-report-widget .toast{position:absolute;top:12px;right:-260px;width:240px;padding:8px 10px;background:#fff;border-radius:6px;box-shadow:0 3px 8px rgba(0,0,0,.18);display:flex;gap:8px;align-items:center;transition:right .5s ease,opacity .3s ease;opacity:0;z-index:3;}
.action-report-widget .toast.show{right:12px;opacity:1;}
.action-report-widget .toast.synced{background:#28a745;color:#fff;}
.action-report-widget .toast .thumb{width:48px;height:32px;background:#e0e0e0;border-radius:4px;flex-shrink:0;}
.action-report-widget .toast .text{font-size:12px;line-height:1.1;display:flex;flex-direction:column;}
.action-report-widget .toast .title{font-weight:600;}
/* ----- Side panel ----- */
.action-report-widget .panel{position:absolute;top:0;right:-300px;width:260px;height:100%;background:#fff;box-shadow:-2px 0 8px rgba(0,0,0,.12);border-left:4px solid #0069ed;display:flex;flex-direction:column;padding:10px;gap:6px;transition:right .5s ease;z-index:2;}
.action-report-widget .panel.show{right:0;}
.action-report-widget .screenshot{width:100%;height:78px;background:#f0f0f0;border-radius:4px;}
/* Tabs */
.action-report-widget .tabs{display:flex;gap:6px;font-size:12px;margin-top:2px;}
.action-report-widget .tab{cursor:pointer;padding:2px 4px;}
.action-report-widget .tab.active{color:#0069ed;border-bottom:2px solid #0069ed;}
/* Console */
.action-report-widget .console{font-size:11px;background:#1e1e1e;color:#dcdcdc;padding:4px;border-radius:4px;height:38px;overflow:hidden;display:none;white-space:pre;line-height:1.3;}
.action-report-widget .console.active{display:block;}
.action-report-widget .console .error{color:#d9534f;}
/* Chat */
.action-report-widget .chat{display:none;flex-direction:column;gap:6px;font-size:11px;margin-top:4px;}
.action-report-widget .chat.show{display:flex;}
.action-report-widget .bubble{max-width:78%;padding:4px 8px;border-radius:10px;opacity:0;transition:opacity .3s ease;}
.action-report-widget .bubble.user{background:#f1f1f1;align-self:flex-start;}
.action-report-widget .bubble.dev{background:#0069ed;color:#fff;align-self:flex-end;}
.action-report-widget .bubble.show{opacity:1;}
/* Integrations (single Jira) */
.action-report-widget .integration-wrap{display:none;justify-content:center;margin-top:6px;}
.action-report-widget .integration-wrap.show{display:flex;}
.action-report-widget .integration{position:relative;width:32px;height:32px;border-radius:50%;background:#0052cc;display:flex;justify-content:center;align-items:center;transition:transform .25s ease;}
.action-report-widget .integration.bounce{transform:scale(1.15);}
.action-report-widget .integration img{width:60%;height:60%;}
.action-report-widget .integration::after{content:'✓';position:absolute;top:-6px;right:-6px;background:#28a745;color:#fff;font-size:11px;width:16px;height:16px;border-radius:50%;display:none;}
.action-report-widget .integration.success::after{display:block;}`;

            function actionReportWidget(selector, opts={}){
                const el = typeof selector==='string'?document.querySelector(selector):selector;
                if(!el) return console.error('actionReportWidget: container not found',selector);
                injectStyles(STYLE_ID, CSS);
                el.innerHTML='';
                el.classList.add('action-report-widget');
                if(opts.width) el.style.width=opts.width+'px';
                if(opts.height) el.style.height=opts.height+'px';

                /* ----- Build DOM ----- */
                el.insertAdjacentHTML('afterbegin',`
        <div class="toast">
          <div class="thumb"></div>
          <div class="text"><span class="title">New bug report</span><span class="sub">Click to view</span></div>
        </div>
        <div class="panel">
          <div class="screenshot"></div>
          <div class="tabs"><span class="tab tab-scr active">Screenshot</span><span class="tab tab-con">Console</span><span class="tab tab-ses">Session</span></div>
          <pre class="console"><span class="error">GET /checkout 500 (Internal Server Error)</span></pre>
          <div class="chat">
            <div class="bubble user">Hi, I’m stuck on payment 😕</div>
            <div class="bubble dev">Thanks! I’m on it.</div>
          </div>
          <div class="integration-wrap">
            <div class="integration jira"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/jira.svg" alt="Jira"></div>
          </div>
        </div>`);

                /* Elements refs */
                const toast        = el.querySelector('.toast');
                const panel        = el.querySelector('.panel');
                const scrTab       = el.querySelector('.tab-scr');
                const conTab       = el.querySelector('.tab-con');
                const consoleBox   = el.querySelector('.console');
                const chat         = el.querySelector('.chat');
                const bubbles      = Array.from(el.querySelectorAll('.bubble'));
                const integWrap    = el.querySelector('.integration-wrap');
                const jiraIcon     = integWrap.querySelector('.integration');

                /* Speed multiplier */
                const S = opts.speedMultiplier?1/opts.speedMultiplier:1;

                /* Reset */
                function reset(){
                    toast.classList.remove('show','synced');toast.style.right='-260px';toast.style.opacity='0';toast.querySelector('.title').textContent='New bug report';toast.querySelector('.sub').textContent='Click to view';
                    panel.classList.remove('show');
                    scrTab.classList.add('active');conTab.classList.remove('active');consoleBox.classList.remove('active'); // we start in Screenshot tab
                    chat.classList.remove('show');bubbles.forEach(b=>b.classList.remove('show'));
                    integWrap.classList.remove('show');jiraIcon.classList.remove('bounce','success');
                }

                /* Loop sequence */
                function loop(){
                    reset();
                    /* 1) Toast slides in */
                    setTimeout(()=>{toast.classList.add('show');},600*S);
                    /* 2) Open panel */
                    setTimeout(()=>{toast.classList.remove('show');panel.classList.add('show');},2000*S);
                    /* 3) Switch to console tab (error already present) */
                    setTimeout(()=>{
                        scrTab.classList.remove('active');conTab.classList.add('active');consoleBox.classList.add('active');
                    },2600*S);
                    /* 4) Show chat bubbles staggered */
                    setTimeout(()=>{chat.classList.add('show');bubbles[0].classList.add('show');},3400*S);
                    setTimeout(()=>{bubbles[1].classList.add('show');},4200*S);
                    /* 5) Show Jira icon with bounce */
                    setTimeout(()=>{integWrap.classList.add('show');jiraIcon.classList.add('bounce','success');},5400*S);
                    /* 6) Close panel */
                    setTimeout(()=>{panel.classList.remove('show');},6800*S);
                    /* 7) Toast synced */
                    setTimeout(()=>{
                        toast.querySelector('.title').textContent='Report synced';toast.querySelector('.sub').textContent='';toast.classList.add('synced','show');
                    },7200*S);
                    /* 8) Toast slide out */
                    setTimeout(()=>{toast.classList.remove('show');},8400*S);
                    /* 9) Immediate restart */
                    setTimeout(loop,8500*S);
                }
                loop();
            }
            global.actionReportWidget = actionReportWidget;
        })();

    })(window);

    /* =====================================================================
     * Quick demo (remove in production)
     * <div id="demo"></div>
     * <script src="widgetLib.js"><\/script>
* <script>
    *   actionReportWidget('#demo', { width: 540, height: 220 });
    * <\/script>
* ===================================================================== */

    actionReportWidget('#block3', { width: 540, height: 220 });
</script>

</body>
</html>
